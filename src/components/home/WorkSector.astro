---
import WorkSectorItem from "./WorkSectorItem.astro";
import WorkSectorItems from "../../../public/assets/data/WorkSectorItems.json"
import { getLangFromUrl, useTranslations } from '../../i18n/utils';

import CompanySVG from '/assets/icons/company.svg';
import TaxSVG from '/assets/icons/quid.svg';
import OtherSVG from '/assets/icons/list.svg';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

---



<section class="w-full h-auto mt-8 px-4 lg:px-16">
    <div class="w-full h-auto mt-8 flex justify-center lg:justify-start items-center py-4">
        <p class="w-auto text-xl lg:text-3xl font-bold text-white bg-bright-red rounded-xl py-3 px-6 lg:px-12">{t("worksector.range")}</p>
    </div>

    <section class="w-full mt-2 h-auto 2xl:h-[35rem] flex flex-col 2xl:flex-row items-center justify-around">
        <div class="rounded-xl my-2 w-full h-full py-8 items-center shadow-md  2xl:w-1/4 flex flex-col">
            
            <div class="w-24 h-24 p-4 rounded-xl shadow-md flex items-center justify-center my-4 ">
                <img src={CompanySVG} />
            </div>

            <p class="my-2 w-full text-center text-bright-red font-bold text-2xl">{t("workSector.companies")}</p>

            <div class="flex flex-col items-center justify-center w-full h-full flex-1 px-4">
                {WorkSectorItems[lang].companies.map((item, index) => (
                    <WorkSectorItem title={item} key={index} />
                ))}
            </div>
        </div>

        <div class="rounded-xl my-2 w-full h-full py-8 items-center shadow-md 2xl:w-1/4 flex flex-col">
            
            <div class="w-24 h-24 p-4 rounded-xl shadow-md flex items-center justify-center my-4 ">
                <img src={TaxSVG} />
            </div>

            <p class="my-2 w-full text-center text-bright-red font-bold text-2xl">{t("workSector.taxes")}</p>

            <div class="flex flex-col items-center justify-center w-full h-full flex-1 px-4">
                {WorkSectorItems[lang].taxes.map((item, index) => (
                    <WorkSectorItem title={item} key={index} />
                ))}
            </div>
        </div>

        <div class="rounded-xl my-2 w-full h-full py-8 items-center shadow-md 2xl:w-1/4 flex flex-col">
            
            <div class="w-24 h-24 p-4 rounded-xl shadow-md flex items-center justify-center my-4 ">
                <img src={OtherSVG} />
            </div>

            <p class="my-2 w-full text-center text-bright-red font-bold text-2xl">{t("workSector.other")}</p>

            <div class="flex flex-col items-center justify-center w-full h-full flex-1 px-4">
                {WorkSectorItems[lang].other.map((item, index) => (
                    <WorkSectorItem title={item} key={index} />
                ))}
            </div>
        </div>
    </section>
</section>