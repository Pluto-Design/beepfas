---
import Burger from './Burger.astro'
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<script lang="ts">
    document.addEventListener("DOMContentLoaded", () => {
        document.getElementById('burger').addEventListener('click', () => {
            let nav = document.getElementById('navbar');

            if (nav.style.display == "none") {
                nav.style.display = "flex";
            } else {
                nav.style.display = "none";
            }
        })
    })
</script>

<header class="fixed w-full flex-col z-40 lg:h-28 bg-white p-2 flex lg:flex-row items-center justify-center lg:justify-between">
    <div class="w-full h-full flex flex-row justify-between items-center">
        <a href={`/${lang === "en" ? ``: "pl"}`}>
            <img src="/assets/logo.svg" class="w-24 h-24 p-1" alt="logo" />
        </a>
        <Burger />
    </div>

    <nav class="w-full max-lg:p-4 lg:w-5/6 2xl:w-1/2 hidden h-full lg:!flex flex-col lg:flex-row items-end lg:items-center justify-evenly" style="display: none" id="navbar">
        <a class="mx-2 hover:text-dark-red ease-in-out transition-all duration-200 text-black text-2xl" href={`/${lang === "en" ? ``: "pl/"}#about`}>{t('nav.about')}</a>
        <a class="mx-2 hover:text-dark-red ease-in-out transition-all duration-200 text-black text-2xl" href={`/${lang === "en" ? ``: "pl/"}#offer`}>{t('nav.offer')}</a>
        <a class="mx-2 hover:text-dark-red ease-in-out transition-all duration-200 text-black text-2xl" href={`/${lang === "en" ? ``: "pl/"}#contact`}>{t('nav.contact')}</a>
        <a class="mx-2 hover:text-dark-red ease-in-out transition-all duration-200 text-black text-2xl" href={`/${lang === "en" ? ``: "pl/"}blog`}>{t('nav.blog')}</a>
        <a class="mx-2 hover:text-dark-red ease-in-out transition-all duration-200 text-black text-2xl" href={`/${lang === "en" ? ``: "pl/"}faq`}>{t('nav.faq')}</a>
        <a href={`/${lang === "en" ? `pl/`: ""}`} class="w-16 h-16 relative flex justify-center items-center">
            <img src={lang === "en" ? "/assets/icons/poland.svg" : "/assets/icons/english.svg"} class="absolute" />
        </a>
    </nav>
</header>